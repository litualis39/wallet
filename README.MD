APP项目分析

需求：实现“雄伟”app目前所包含的功能
## 雄伟app分析
### 整体架构

```mermaid
graph TD
用户模块 --> 安全
安全 --> 密码修改
用户模块 --> 余额
余额 --> 分支机构余额
好友模块
账务模块
账务模块 --> 账单
账务模块 --> 转账
账务模块 --> 审核
安全模块
安全模块 --> 客户端鉴权
客户端鉴权 --> 账号+密码+人机校验+验证码
安全模块 --> 交易鉴权
交易鉴权 --> 验证码
```

### 主要业务流程

```mermaid
graph TB
start(转账流程) --> form[填写表单<br>备注,金额,对方账号,对方姓名,分支机构];
form --> submit[手机验证码鉴权];
submit --> verify{审核};
verify-->|同意| stop[结束];
verify-->|拒绝| stop[结束];
```

### 功能理解

此APP大致就是记账的功能，记录着某个用户在某个分支机构存有多少钱、某用户某时刻给其它用户转账多少钱、是否允许。

## 项目规划

### 技术栈选型

因此类应用数据价值高，故对安全要求高，应选用成熟的企业级技术栈

#### 持久层MySql

成熟的关系型数据库而且免费，后期如有更高要求可轻松改为Oracle

#### 后端Springboot+Mybatis+SpringSecurity

Java在企业级开发领域长期老大的地位，选择Springboot也几乎不需要理由，阿里腾讯等大厂都在用，生态优于任何框架，跟着用就对了。全面向对象、面向接口开发，后期如用户量大需大并发，或者功能不断增加，可用上Springcloud做微服务开发，易拓展

#### 后台React+Antd

现在做后台主流的框架就Vue和React。Antd是阿里的框架，阿里自己都在用。React在做大项目方面拓展性和可维护性均优于Vue，故选型React

#### 客户端前期Uniapp，后期原生混编

uniapp成熟稳定、开发周期短、交付快，适合前期使用。等开发到接近成熟阶段再改为原生+webview混编的方式，提升用户体验

### 初步构思

#### 客户端

在实现功能的前提，尽量参考甚至仿造生活中常用的支付App，如微信支付、支付宝、PayPal，包括界面风格、布局、和交互流程，原因如下：

1. 符合用户习惯，容易上手
2. 扁平化外观更显高大上
3. 业务流程成熟，少走弯路

#### 后端模块

```mermaid
graph LR
用户模块
用户模块 --> 注册
用户模块 --> 资料修改
用户模块 --> 支付密码管理
用户模块 --> 绑定手机管理
用户模块 --> 好友管理
用户模块 --> 状态管理
管理员用户模块
管理员用户模块 --> 增删查改
管理员权限模块
管理员权限模块 --> 角色
管理员权限模块 --> 部门
管理员权限模块 --> 权限
账务模块
账务模块 --> 用户余额
账务模块 --> 分支机构余额
账务模块 --> 账单
维护模块
维护模块 --> 日志
维护模块 --> 监控
前端接口
前端接口 --> a[鉴权]
前端接口 --> b[服务调用]
后台接口
后台接口 --> 鉴权
后台接口 --> 权限判断
后台接口 --> 服务调用
```

管理员的权限模块是考虑到分支机构可能有后台需求，需要管理机构下属的用户和员工

#### 关于可拓展性

当前功能需求比较简单，若只是测试或小规模部署，用无类型脚本语言（如php,javascript）可能成本更低，速度更快。但如考虑后期要增加功能，是计划长远的正式项目，则从文档到架构都应按企业级应用的标准来操作，虽然前期开发工作量大，但可维护性高，后期增加功能可以最大限度的不改动现有代码。

#### 工程进度预估

```mermaid
gantt
section 产品文档
确认需求: a,2022-03-28,7d
业务流程图: b,2022-03-30,5d
客户端线框图: c,2022-03-30,5d
后端API接口文档: d,2022-04-01,3d
section 客户端
UI部分: 2022-04-04,2022-04-14
逻辑部分: 2022-04-10,2022-04-20
测试修改: 2022-04-20,2022-04-28
section 后端
Mook数据: e,2022-04-04,2d
打通数据链: 2022-04-05,2d
编写业务逻辑: 2022-04-07,15d
Security配置: 2022-04-17,2d
单元测试: 2022-04-20,2022-04-28
section 管理后台
UI部分: 2022-04-04,2022-04-08
逻辑部分: 2022-04-06,2022-04-20
测试修改: 2022-04-20,2022-04-28
```

总历时1个月时间，为人员充足工作安排正常的情况。如项目紧急，可省略前期的文档制作（后期补上）
